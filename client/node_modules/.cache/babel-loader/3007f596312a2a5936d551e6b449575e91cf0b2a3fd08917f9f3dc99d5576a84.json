{"ast":null,"code":"import _objectSpread from\"/home/yusufmim/Library-Management-System/Library-Management-System/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{useContext}from'react';import{AuthContext}from'../utils/AuthContext';import{addReview}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewForm=_ref=>{let{bookId,onReviewAdded}=_ref;const{user}=useContext(AuthContext);const validationSchema=Yup.object({rating:Yup.number().min(1,'Rating must be between 1 and 5').max(5,'Rating must be between 1 and 5').required('Rating is required'),comment:Yup.string().min(10,'Comment must be at least 10 characters').required('Comment is required')});return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Review\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{rating:'',comment:''},validationSchema:validationSchema,onSubmit:async(values,_ref2)=>{let{resetForm}=_ref2;await addReview(_objectSpread(_objectSpread({},values),{},{book_id:bookId}),user.token);onReviewAdded();resetForm();},children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rating (1-5)\"}),/*#__PURE__*/_jsx(Field,{name:\"rating\",type:\"number\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"rating\",component:\"div\",className:\"error\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Comment\"}),/*#__PURE__*/_jsx(Field,{as:\"textarea\",name:\"comment\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"comment\",component:\"div\",className:\"error\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit Review\"})]})})]});};export default ReviewForm;","map":{"version":3,"names":["Formik","Form","Field","ErrorMessage","Yup","useContext","AuthContext","addReview","jsx","_jsx","jsxs","_jsxs","ReviewForm","_ref","bookId","onReviewAdded","user","validationSchema","object","rating","number","min","max","required","comment","string","className","style","marginTop","children","initialValues","onSubmit","values","_ref2","resetForm","_objectSpread","book_id","token","marginBottom","name","type","component","as"],"sources":["/home/yusufmim/Library-Management-System/Library-Management-System/client/src/components/ReviewForm.js"],"sourcesContent":["import { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useContext } from 'react';\nimport { AuthContext } from '../utils/AuthContext';\nimport { addReview } from '../utils/api';\n\nconst ReviewForm = ({ bookId, onReviewAdded }) => {\n  const { user } = useContext(AuthContext);\n\n  const validationSchema = Yup.object({\n    rating: Yup.number()\n      .min(1, 'Rating must be between 1 and 5')\n      .max(5, 'Rating must be between 1 and 5')\n      .required('Rating is required'),\n    comment: Yup.string()\n      .min(10, 'Comment must be at least 10 characters')\n      .required('Comment is required'),\n  });\n\n  return (\n    <div className=\"card\" style={{ marginTop: '1rem' }}>\n      <h3>Add Review</h3>\n      <Formik\n        initialValues={{ rating: '', comment: '' }}\n        validationSchema={validationSchema}\n        onSubmit={async (values, { resetForm }) => {\n          await addReview({ ...values, book_id: bookId }, user.token);\n          onReviewAdded();\n          resetForm();\n        }}\n      >\n        <Form>\n          <div style={{ marginBottom: '1rem' }}>\n            <label>Rating (1-5)</label>\n            <Field name=\"rating\" type=\"number\" />\n            <ErrorMessage name=\"rating\" component=\"div\" className=\"error\" />\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label>Comment</label>\n            <Field as=\"textarea\" name=\"comment\" />\n            <ErrorMessage name=\"comment\" component=\"div\" className=\"error\" />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">Submit Review</button>\n        </Form>\n      </Formik>\n    </div>\n  );\n};\n\nexport default ReviewForm;"],"mappings":"8JAAA,OAASA,MAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,YAAY,KAAQ,QAAQ,CAC1D,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAC1B,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,sBAAsB,CAClD,OAASC,SAAS,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,MAAM,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAC3C,KAAM,CAAEG,IAAK,CAAC,CAAGX,UAAU,CAACC,WAAW,CAAC,CAExC,KAAM,CAAAW,gBAAgB,CAAGb,GAAG,CAACc,MAAM,CAAC,CAClCC,MAAM,CAAEf,GAAG,CAACgB,MAAM,CAAC,CAAC,CACjBC,GAAG,CAAC,CAAC,CAAE,gCAAgC,CAAC,CACxCC,GAAG,CAAC,CAAC,CAAE,gCAAgC,CAAC,CACxCC,QAAQ,CAAC,oBAAoB,CAAC,CACjCC,OAAO,CAAEpB,GAAG,CAACqB,MAAM,CAAC,CAAC,CAClBJ,GAAG,CAAC,EAAE,CAAE,wCAAwC,CAAC,CACjDE,QAAQ,CAAC,qBAAqB,CACnC,CAAC,CAAC,CAEF,mBACEZ,KAAA,QAAKe,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,eACjDpB,IAAA,OAAAoB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBpB,IAAA,CAACT,MAAM,EACL8B,aAAa,CAAE,CAAEX,MAAM,CAAE,EAAE,CAAEK,OAAO,CAAE,EAAG,CAAE,CAC3CP,gBAAgB,CAAEA,gBAAiB,CACnCc,QAAQ,CAAE,KAAAA,CAAOC,MAAM,CAAAC,KAAA,GAAoB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,KAAA,CACpC,KAAM,CAAA1B,SAAS,CAAA4B,aAAA,CAAAA,aAAA,IAAMH,MAAM,MAAEI,OAAO,CAAEtB,MAAM,GAAIE,IAAI,CAACqB,KAAK,CAAC,CAC3DtB,aAAa,CAAC,CAAC,CACfmB,SAAS,CAAC,CAAC,CACb,CAAE,CAAAL,QAAA,cAEFlB,KAAA,CAACV,IAAI,EAAA4B,QAAA,eACHlB,KAAA,QAAKgB,KAAK,CAAE,CAAEW,YAAY,CAAE,MAAO,CAAE,CAAAT,QAAA,eACnCpB,IAAA,UAAAoB,QAAA,CAAO,cAAY,CAAO,CAAC,cAC3BpB,IAAA,CAACP,KAAK,EAACqC,IAAI,CAAC,QAAQ,CAACC,IAAI,CAAC,QAAQ,CAAE,CAAC,cACrC/B,IAAA,CAACN,YAAY,EAACoC,IAAI,CAAC,QAAQ,CAACE,SAAS,CAAC,KAAK,CAACf,SAAS,CAAC,OAAO,CAAE,CAAC,EAC7D,CAAC,cACNf,KAAA,QAAKgB,KAAK,CAAE,CAAEW,YAAY,CAAE,MAAO,CAAE,CAAAT,QAAA,eACnCpB,IAAA,UAAAoB,QAAA,CAAO,SAAO,CAAO,CAAC,cACtBpB,IAAA,CAACP,KAAK,EAACwC,EAAE,CAAC,UAAU,CAACH,IAAI,CAAC,SAAS,CAAE,CAAC,cACtC9B,IAAA,CAACN,YAAY,EAACoC,IAAI,CAAC,SAAS,CAACE,SAAS,CAAC,KAAK,CAACf,SAAS,CAAC,OAAO,CAAE,CAAC,EAC9D,CAAC,cACNjB,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAACd,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CAAC,eAAa,CAAQ,CAAC,EACpE,CAAC,CACD,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}