{"ast":null,"code":"var _jsxFileName = \"/home/yusufmim/Library-Management-System/Library-Management-System/client/src/pages/BookDetails.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getBook } from '../utils/api';\nimport ReviewForm from '../components/ReviewForm';\nimport { AuthContext } from '../utils/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [book, setBook] = useState(null);\n  const fetchBook = async () => {\n    const data = await getBook(id);\n    setBook(data);\n  };\n  useEffect(() => {\n    fetchBook();\n  }, [id]);\n  if (!book) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: book.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Author: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 12\n        }, this), \" \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"ISBN:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 12\n        }, this), \" \", book.isbn]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Available Copies:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 12\n        }, this), \" \", book.available_copies]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), book.reviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No reviews yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '1rem'\n      },\n      children: book.reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: review.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 18\n          }, this), \": \", review.rating, \"/5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: review.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this)]\n      }, review.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), user && /*#__PURE__*/_jsxDEV(ReviewForm, {\n      bookId: id,\n      onReviewAdded: fetchBook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(BookDetails, \"iInfc6TsmhjRHQjQvLHYcCndR48=\", false, function () {\n  return [useParams];\n});\n_c = BookDetails;\nexport default BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["useEffect","useState","useContext","useParams","getBook","ReviewForm","AuthContext","jsxDEV","_jsxDEV","BookDetails","_s","id","user","book","setBook","fetchBook","data","children","fileName","_jsxFileName","lineNumber","columnNumber","title","className","author","isbn","available_copies","reviews","length","style","display","flexDirection","gap","map","review","rating","comment","bookId","onReviewAdded","_c","$RefreshReg$"],"sources":["/home/yusufmim/Library-Management-System/Library-Management-System/client/src/pages/BookDetails.js"],"sourcesContent":["import { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getBook } from '../utils/api';\nimport ReviewForm from '../components/ReviewForm';\nimport { AuthContext } from '../utils/AuthContext';\n\nconst BookDetails = () => {\n  const { id } = useParams();\n  const { user } = useContext(AuthContext);\n  const [book, setBook] = useState(null);\n\n  const fetchBook = async () => {\n    const data = await getBook(id);\n    setBook(data);\n  };\n\n  useEffect(() => {\n    fetchBook();\n  }, [id]);\n\n  if (!book) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h1>{book.title}</h1>\n      <div className=\"card\">\n        <p><strong>Author: </strong> {book.author}</p>\n        <p><strong>ISBN:</strong> {book.isbn}</p>\n        <p><strong>Available Copies:</strong> {book.available_copies}</p>\n      </div>\n      <h2>Reviews</h2>\n      {book.reviews.length === 0 ? (\n        <p>No reviews yet.</p>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          {book.reviews.map(review => (\n            <div key={review.id} className=\"card\">\n              <p><strong>{review.user}</strong>: {review.rating}/5</p>\n              <p>{review.comment}</p>\n            </div>\n          ))}\n        </div>\n      )}\n      {user && <ReviewForm bookId={id} onReviewAdded={fetchBook} />}\n    </div>\n  );\n};\n\nexport default BookDetails;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,OAAO,QAAQ,cAAc;AACtC,OAAOC,UAAU,MAAM,0BAA0B;AACjD,SAASC,WAAW,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAG,CAAC,GAAGR,SAAS,CAAC,CAAC;EAC1B,MAAM;IAAES;EAAK,CAAC,GAAGV,UAAU,CAACI,WAAW,CAAC;EACxC,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMc,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,IAAI,GAAG,MAAMZ,OAAO,CAACO,EAAE,CAAC;IAC9BG,OAAO,CAACE,IAAI,CAAC;EACf,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACde,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACJ,EAAE,CAAC,CAAC;EAER,IAAI,CAACE,IAAI,EAAE,oBAAOL,OAAA;IAAAS,QAAA,EAAK;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAEvC,oBACEb,OAAA;IAAAS,QAAA,gBACET,OAAA;MAAAS,QAAA,EAAKJ,IAAI,CAACS;IAAK;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACrBb,OAAA;MAAKe,SAAS,EAAC,MAAM;MAAAN,QAAA,gBACnBT,OAAA;QAAAS,QAAA,gBAAGT,OAAA;UAAAS,QAAA,EAAQ;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACR,IAAI,CAACW,MAAM;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9Cb,OAAA;QAAAS,QAAA,gBAAGT,OAAA;UAAAS,QAAA,EAAQ;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACR,IAAI,CAACY,IAAI;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzCb,OAAA;QAAAS,QAAA,gBAAGT,OAAA;UAAAS,QAAA,EAAQ;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACR,IAAI,CAACa,gBAAgB;MAAA;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9D,CAAC,eACNb,OAAA;MAAAS,QAAA,EAAI;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACfR,IAAI,CAACc,OAAO,CAACC,MAAM,KAAK,CAAC,gBACxBpB,OAAA;MAAAS,QAAA,EAAG;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEtBb,OAAA;MAAKqB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,aAAa,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAO,CAAE;MAAAf,QAAA,EACnEJ,IAAI,CAACc,OAAO,CAACM,GAAG,CAACC,MAAM,iBACtB1B,OAAA;QAAqBe,SAAS,EAAC,MAAM;QAAAN,QAAA,gBACnCT,OAAA;UAAAS,QAAA,gBAAGT,OAAA;YAAAS,QAAA,EAASiB,MAAM,CAACtB;UAAI;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,MAAE,EAACa,MAAM,CAACC,MAAM,EAAC,IAAE;QAAA;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACxDb,OAAA;UAAAS,QAAA,EAAIiB,MAAM,CAACE;QAAO;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,GAFfa,MAAM,CAACvB,EAAE;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGd,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,EACAT,IAAI,iBAAIJ,OAAA,CAACH,UAAU;MAACgC,MAAM,EAAE1B,EAAG;MAAC2B,aAAa,EAAEvB;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEV,CAAC;AAACX,EAAA,CAxCID,WAAW;EAAA,QACAN,SAAS;AAAA;AAAAoC,EAAA,GADpB9B,WAAW;AA0CjB,eAAeA,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}