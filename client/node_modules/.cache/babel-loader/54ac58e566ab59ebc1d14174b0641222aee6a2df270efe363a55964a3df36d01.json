{"ast":null,"code":"import axios from'axios';const API_URL='http://localhost:5000/api';export const getBooks=async()=>{const response=await fetch(\"\".concat(API_URL,\"/books\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(!response.ok)throw new Error('Failed to fetch books');const data=await response.json();return data;};export const getBook=async id=>{const response=await fetch(\"\".concat(API_URL,\"/books/\").concat(id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(!response.ok)throw new Error('Failed to fetch book');const data=await response.json();return data;};export const addBook=async(bookData,token)=>{const res=await axios.post(\"\".concat(API_URL,\"/books\"),bookData,{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const updateBook=async(id,bookData,token)=>{const res=await axios.put(\"\".concat(API_URL,\"/books/\").concat(id),bookData,{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const deleteBook=async(id,token)=>{await axios.delete(\"\".concat(API_URL,\"/books/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});};export const borrowBook=async(bookId,token)=>{const res=await axios.post(\"\".concat(API_URL,\"/borrow\"),{book_id:bookId},{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const addReview=async(reviewData,token)=>{await axios.post(\"\".concat(API_URL,\"/reviews\"),reviewData,{headers:{Authorization:\"Bearer \".concat(token)}});};export const getProfile=async token=>{const response=await fetch(\"\".concat(API_URL,\"/profile\"),{headers:{Authorization:\"Bearer \".concat(token||localStorage.getItem('token')),'Content-Type':'application/json'}});if(!response.ok){const error=await response.json();throw new Error(\"Request failed with status \".concat(response.status,\": \").concat(error.message||'Unknown error'));}return response.json();};","map":{"version":3,"names":["axios","API_URL","getBooks","response","fetch","concat","headers","Authorization","localStorage","getItem","ok","Error","data","json","getBook","id","addBook","bookData","token","res","post","updateBook","put","deleteBook","delete","borrowBook","bookId","book_id","addReview","reviewData","getProfile","error","status","message"],"sources":["/home/yusufmim/Library-Management-System/Library-Management-System/client/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/api';\n\nexport const getBooks = async () => {\n  const response = await fetch(`${API_URL}/books`, {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n  });\n  if (!response.ok) throw new Error('Failed to fetch books');\n  const data = await response.json();\n  return data;\n};\n\nexport const getBook = async (id) => {\n  const response = await fetch(`${API_URL}/books/${id}`, {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n  });\n  if (!response.ok) throw new Error('Failed to fetch book');\n  const data = await response.json();\n  return data;\n};\n\nexport const addBook = async (bookData, token) => {\n  const res = await axios.post(`${API_URL}/books`, bookData, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n  return res.data;\n};\n\nexport const updateBook = async (id, bookData, token) => {\n  const res = await axios.put(`${API_URL}/books/${id}`, bookData, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n  return res.data;\n};\n\nexport const deleteBook = async (id, token) => {\n  await axios.delete(`${API_URL}/books/${id}`, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n};\n\nexport const borrowBook = async (bookId, token) => {\n  const res = await axios.post(`${API_URL}/borrow`, { book_id: bookId }, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n  return res.data;\n};\n\nexport const addReview = async (reviewData, token) => {\n  await axios.post(`${API_URL}/reviews`, reviewData, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n};\n\nexport const getProfile = async (token) => {\n  const response = await fetch(`${API_URL}/profile`, {\n    headers: {\n      Authorization: `Bearer ${token || localStorage.getItem('token')}`,\n      'Content-Type': 'application/json',\n    },\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(`Request failed with status ${response.status}: ${error.message || 'Unknown error'}`);\n  }\n  return response.json();\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}