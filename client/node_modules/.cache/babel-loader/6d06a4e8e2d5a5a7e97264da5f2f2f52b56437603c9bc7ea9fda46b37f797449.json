{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'https://library-management-system-backend-ngys.onrender.com/api';\nexport const getBooks = async () => {\n  const response = await fetch(`${API_URL}/books`, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token')}`\n    }\n  });\n  if (!response.ok) throw new Error('Failed to fetch books');\n  const data = await response.json();\n  return data;\n};\nexport const getBook = async id => {\n  const response = await fetch(`${API_URL}/books/${id}`, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token')}`\n    }\n  });\n  if (!response.ok) throw new Error('Failed to fetch book');\n  const data = await response.json();\n  return data;\n};\nexport const addBook = async (bookData, token) => {\n  const res = await axios.post(`${API_URL}/books`, bookData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const updateBook = async (id, bookData, token) => {\n  const res = await axios.put(`${API_URL}/books/${id}`, bookData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const deleteBook = async (id, token) => {\n  await axios.delete(`${API_URL}/books/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const borrowBook = async (bookId, token) => {\n  const res = await axios.post(`${API_URL}/borrow`, {\n    book_id: bookId\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const addReview = async (reviewData, token) => {\n  await axios.post(`${API_URL}/reviews`, reviewData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const getProfile = async token => {\n  const response = await fetch(`${API_URL}/profile`, {\n    headers: {\n      Authorization: `Bearer ${token || localStorage.getItem('token')}`,\n      'Content-Type': 'application/json'\n    }\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(`Request failed with status ${response.status}: ${error.message || 'Unknown error'}`);\n  }\n  return response.json();\n};","map":{"version":3,"names":["axios","API_URL","getBooks","response","fetch","headers","Authorization","localStorage","getItem","ok","Error","data","json","getBook","id","addBook","bookData","token","res","post","updateBook","put","deleteBook","delete","borrowBook","bookId","book_id","addReview","reviewData","getProfile","error","status","message"],"sources":["/home/yusufmim/Library-Management-System/Library-Management-System/client/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://library-management-system-backend-ngys.onrender.com/api';\n\nexport const getBooks = async () => {\n  const response = await fetch(`${API_URL}/books`, {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n  });\n  if (!response.ok) throw new Error('Failed to fetch books');\n  const data = await response.json();\n  return data;\n};\n\nexport const getBook = async (id) => {\n  const response = await fetch(`${API_URL}/books/${id}`, {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n  });\n  if (!response.ok) throw new Error('Failed to fetch book');\n  const data = await response.json();\n  return data;\n};\n\nexport const addBook = async (bookData, token) => {\n  const res = await axios.post(`${API_URL}/books`, bookData, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n  return res.data;\n};\n\nexport const updateBook = async (id, bookData, token) => {\n  const res = await axios.put(`${API_URL}/books/${id}`, bookData, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n  return res.data;\n};\n\nexport const deleteBook = async (id, token) => {\n  await axios.delete(`${API_URL}/books/${id}`, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n};\n\nexport const borrowBook = async (bookId, token) => {\n  const res = await axios.post(`${API_URL}/borrow`, { book_id: bookId }, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n  return res.data;\n};\n\nexport const addReview = async (reviewData, token) => {\n  await axios.post(`${API_URL}/reviews`, reviewData, {\n    headers: { Authorization: `Bearer ${token}` }\n  });\n};\n\nexport const getProfile = async (token) => {\n  const response = await fetch(`${API_URL}/profile`, {\n    headers: {\n      Authorization: `Bearer ${token || localStorage.getItem('token')}`,\n      'Content-Type': 'application/json',\n    },\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(`Request failed with status ${response.status}: ${error.message || 'Unknown error'}`);\n  }\n  return response.json();\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}