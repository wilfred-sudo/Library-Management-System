{"ast":null,"code":"var _jsxFileName = \"/home/yusufmim/Library-Management-System/Library-Management-System/client/src/pages/BookDetails.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getBook } from '../utils/api';\nimport ReviewForm from '../components/ReviewForm';\nimport { AuthContext } from '../utils/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [book, setBook] = useState(null);\n  const fetchBook = async () => {\n    const data = await getBook(id);\n    setBook(data);\n  };\n  useEffect(() => {\n    fetchBook();\n  }, [id]);\n  eslint - disable - next - line;\n  if (!book) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: book.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://www.google.com/imgres?q=48%20laws%20of%20power&imgurl=https%3A%2F%2Fimages-na.ssl-images-amazon.com%2Fimages%2FI%2F61J3Uu4jOLL.jpg&imgrefurl=https%3A%2F%2Fwww.whizz.co.ke%2Fproduct%2F9768205%2Fthe-48-laws-of-power%2F&docid=Y6zkJeuH3dWw2M&tbnid=Neqajdb5U8YrWM&vet=12ahUKEwi3k8nUy5GOAxWdTKQEHf8RO1gQM3oECBkQAA..i&w=1835&h=2560&hcb=2&ved=2ahUKEwi3k8nUy5GOAxWdTKQEHf8RO1gQM3oECBkQAA\",\n        alt: `${book.title} cover`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Author:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 14\n          }, this), \" \", book.author]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ISBN:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 14\n          }, this), \" \", book.isbn]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Available Copies:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 14\n          }, this), \" \", book.available_copies]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          style: {\n            marginTop: '1rem'\n          },\n          children: \"Borrow Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), book.reviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No reviews yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '1rem'\n      },\n      children: book.reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: review.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 18\n          }, this), \": \", review.rating, \"/5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: review.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)]\n      }, review.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), user && /*#__PURE__*/_jsxDEV(ReviewForm, {\n      bookId: id,\n      onReviewAdded: fetchBook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(BookDetails, \"iInfc6TsmhjRHQjQvLHYcCndR48=\", false, function () {\n  return [useParams];\n});\n_c = BookDetails;\nexport default BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["useEffect","useState","useContext","useParams","getBook","ReviewForm","AuthContext","jsxDEV","_jsxDEV","BookDetails","_s","id","user","book","setBook","fetchBook","data","eslint","disable","next","line","children","fileName","_jsxFileName","lineNumber","columnNumber","title","className","src","alt","author","isbn","available_copies","style","marginTop","reviews","length","display","flexDirection","gap","map","review","rating","comment","bookId","onReviewAdded","_c","$RefreshReg$"],"sources":["/home/yusufmim/Library-Management-System/Library-Management-System/client/src/pages/BookDetails.js"],"sourcesContent":["import { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getBook } from '../utils/api';\nimport ReviewForm from '../components/ReviewForm';\nimport { AuthContext } from '../utils/AuthContext';\n\nconst BookDetails = () => {\n  const { id } = useParams();\n  const { user } = useContext(AuthContext);\n  const [book, setBook] = useState(null);\n\n  const fetchBook = async () => {\n    const data = await getBook(id);\n    setBook(data);\n  };\n\n  useEffect(() => {\n    fetchBook();\n  }, [id]);eslint-disable-next-line\n\n  if (!book) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h1>{book.title}</h1>\n      <div className=\"book-details\">\n        <img src=\"https://www.google.com/imgres?q=48%20laws%20of%20power&imgurl=https%3A%2F%2Fimages-na.ssl-images-amazon.com%2Fimages%2FI%2F61J3Uu4jOLL.jpg&imgrefurl=https%3A%2F%2Fwww.whizz.co.ke%2Fproduct%2F9768205%2Fthe-48-laws-of-power%2F&docid=Y6zkJeuH3dWw2M&tbnid=Neqajdb5U8YrWM&vet=12ahUKEwi3k8nUy5GOAxWdTKQEHf8RO1gQM3oECBkQAA..i&w=1835&h=2560&hcb=2&ved=2ahUKEwi3k8nUy5GOAxWdTKQEHf8RO1gQM3oECBkQAA\" alt={`${book.title} cover`} />\n        <div className=\"book-info\">\n          <p><strong>Author:</strong> {book.author}</p>\n          <p><strong>ISBN:</strong> {book.isbn}</p>\n          <p><strong>Available Copies:</strong> {book.available_copies}</p>\n          {user && (\n            <button className=\"btn btn-primary\" style={{ marginTop: '1rem' }}>\n              Borrow Book\n            </button>\n          )}\n        </div>\n      </div>\n      <h2>Reviews</h2>\n      {book.reviews.length === 0 ? (\n        <p>No reviews yet.</p>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          {book.reviews.map(review => (\n            <div key={review.id} className=\"review-card\">\n              <p><strong>{review.user}</strong>: {review.rating}/5</p>\n              <p>{review.comment}</p>\n            </div>\n          ))}\n        </div>\n      )}\n      {user && <ReviewForm bookId={id} onReviewAdded={fetchBook} />}\n    </div>\n  );\n};\n\nexport default BookDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}